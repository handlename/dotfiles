---
description: GitHub IssueのURLから要件を解析し、実装とテストを完了させる
argument-hint: <GitHub Issue URL>
---

## 前提・背景

- 対象Issue: $ARGUMENTSで指定されたGitHub IssueのURL
- 実装はIssueの要件を完全に満たす必要がある
- 実装前に関連コードの調査と影響範囲の把握が必須
- テスト駆動開発を推奨し、実装とテストを交互に進める

## タスク

実行するべきタスクを以下に示す。
内容をよく読み、複数並行して進められると判断した場合は、並行して実行すること。

- `gh issue view $ARGUMENTS --json title,body,comments` で対象Issueの全情報を取得せよ
- Issueタイトル、本文、全コメントから要件・受入条件・技術的制約を抽出せよ
- TodoWriteツールで詳細な実装計画を立案し、各タスクの優先度を設定せよ
- 関連する既存コードをGrepとGlobで調査し、影響範囲を特定せよ
- 計画に従い実装を進め、各完了時にTodoを更新せよ
- テストを作成・実行し、カバレッジと境界値を確認せよ
- 適切なlint/typecheckコマンドを実行し、全検証を通過させよ

## 完了条件

タスクの完了条件は以下の通りとする。
完了条件、または次の項目で述べる中断条件を満たすまで作業を継続すること。

- Issueに記載された全要件が実装済みである
- 不具合を修正することを目的としたIssueである場合、再発を防止するためのテストケースが実装済みである
- 関連する全テストが通過している
- lint/typecheck等の検証が通過している
- 実装内容がCLAUDE.mdのルールに準拠している

## 実行規約

タスクの実行中は常に以下の規約に従え。

- 変更対象ファイルは必ずReadで全体を読み込んでから編集せよ
- 独立したツール呼び出しは単一メッセージで並行実行せよ
- 既存コードのインデント・命名規則・import順序を完全に踏襲せよ
- 新規関数は純粋関数として実装し、副作用を最小化せよ
- 各実装完了時に即座にTodoを更新し、進捗を可視化せよ
- エラー発生時は原因を特定し、修正方針を明確化せよ

## 中断条件

以下の条件を満たした場合は作業を中断し、その旨を報告すること。
また、現在の状況と残タスクを簡潔にまとめて提示すること。

- 作業を繰り返す中で、進捗が認められなくなった場合
- Issueの要件が不明瞭で追加情報が必要な場合
- 依存関係の問題で実装を進められない場合
- テストが繰り返し失敗し、解決の見通しが立たない場合

## 禁止事項

- タスクに直接関係しないファイルの変更を禁じる
- 要件に記載のない機能追加を禁じる
- 冗長なコメントの追加を禁じる
- 既存の型定義のimmutable化を禁じる
- 調査のための一時的なコード変更を残したままにすることを禁じる。不要になった時点で確実に削除せよ

## 補足事項

タスクに関する補足事項を以下に示す。

- 実装方針に迷う場合は既存コードのパターンを優先せよ
- Issue内で言及されたファイルパスは必ず実在を確認せよ
- 必要なlint/typecheckコマンドが不明な場合はMakefile、package.jsonなどから探索せよ
- 大規模な変更はMultiEditツールで一括実行せよ
- GitHubリソースの変更(コメント追加、ステータス更新等)は指示があるまで行うな
- タスクを実行するにあたり、その円滑な進行を妨げる点がある場合は、その旨をユーザーに報告し、追加の情報を求めよ
- 不具合解決を旨とするIssueの場合、状況を確認するための一時的なログ出力処理の追加を積極的に利用せよ
